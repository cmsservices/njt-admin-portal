! function(e, t) {
    function r() {
        this._init()
    }
    r.prototype = {
        options: {
            slideDur: 400,
            accordion: !0,
            menuID: "navMain",
            toolsID: "tools",
            menuTriggerID: "triggerMenu",
            toolsTriggerID: "triggerTools",
            navBtnClass: "js-menu-btn",
            navLevelsClass: "js-menu-level",
            triggersActiveClass: "header__trigger--is-active",
            navBtnActiveClass: "header__nav-btn--is-active"
        },
        _init: function() {
            var e = this;
            e.$menu = t("#" + e.options.menuID), e.$tools = t("#" + e.options.toolsID), e.$menuTrigger = t("#" + e.options.menuTriggerID), e.$toolsTrigger = t("#" + e.options.toolsTriggerID), e.$triggers = t("#" + e.options.menuTriggerID + ", #" + e.options.toolsTriggerID), e.$navBtn = t("." + e.options.navBtnClass), e.$navLevels = t("." + e.options.navLevelsClass), e.triggerevents = "click.drawermenu touchstart.drawermenu", e.navevents = "click.drawermenu", e._initEvents(), e._initAria()
        },
        _initEvents: function() {
            var e = this;
            e.$triggers.on(e.triggerevents, function(r) {
                r.preventDefault();
                var n = !1;
                if (!n) {
                    n = !0, setTimeout(function() {
                        n = !1
                    }, 100);
                    var a = t(this);
                    a.is(e.$menuTrigger) ? e._toggleMenu() : a.is(e.$toolsTrigger) && e._toggleTools()
                }
            }), e.$navBtn.on(e.navevents, function(r) {
                r.preventDefault();
                var n = t(this),
                    a = n.next(e.$navLevels);
                if (a.is(":visible")) e._close(n, a);
                else {
                    if (e.options.accordion === !0 && e.$navLevels.is(":visible")) {
                        var i = e.$navLevels.not(a).not(a.parents("." + e.options.navLevelsClass)),
                            s = i.siblings();
                        e._close(s, i)
                    }
                    e._open(n, a)
                }
            })
        },
        _removeEvents: function() {
            var e = this;
            e.$toolsTrigger.add(e.$menuTrigger).off(e.triggerevents), e.$navBtn.off(e.navevents)
        },
        _initAria: function() {
            var e = this;
            e.$triggers.attr("aria-haspopup", "true").attr("aria-expanded", "false"), e.$menuTrigger.attr("aria-haspopup", "true").attr("aria-controls", e.options.menuID), e.$toolsTrigger.attr("aria-haspopup", "true").attr("aria-controls", e.options.toolsID), e.$navBtn.attr("aria-haspopup", "true").attr("aria-expanded", "false").attr("aria-controls", function() {
                return t(this).next("." + e.options.navLevelsClass).attr("id")
            }), e.$navLevels.add(e.$menu).add(e.$tools).attr("aria-hidden", "true")
        },
        _removeAria: function() {
            var e = this;
            e.$navBtn.add(e.$triggers).removeAttr("aria-haspopup").removeAttr("aria-expanded").removeAttr("aria-controls"), e.$navLevels.add(e.$menu).add(e.$tools).removeAttr("aria-hidden")
        },
        _open: function(e, t) {
            var r = this;
            e.addClass(r.options.navBtnActiveClass).attr("aria-expanded", "true"), t.stop(!0, !0).slideDown(r.options.slideDur).attr("aria-hidden", "false")
        },
        _close: function(e, t) {
            var r = this;
            setTimeout(function() {
                e.removeClass(r.options.navBtnActiveClass).attr("aria-expanded", "false")
            }, r.options.slideDur), t.stop(!0, !0).slideUp(r.options.slideDur).attr("aria-hidden", "true")
        },
        _toggleTools: function() {
            var e = this;
            "false" === e.$toolsTrigger.attr("aria-expanded") && "undefined" != typeof ga && ga("send", "event", "Toolbar", "Open", "mobile"), e.$toolsTrigger.toggleClass(e.options.triggersActiveClass).attr("aria-expanded", function(e, t) {
                return "true" === t ? "false" : "true"
            }), e.$menu.is(":visible") && (e.$menu.slideToggle(400).attr("aria-hidden", function(e, t) {
                return "true" === t ? "false" : "true"
            }), e.$menuTrigger.removeClass(e.options.triggersActiveClass).attr("aria-expanded", "false")), e.$tools.slideToggle(400).attr("aria-hidden", function(e, t) {
                return "true" === t ? "false" : "true"
            })
        },
        _toggleMenu: function() {
            var e = this;
            e.$menuTrigger.toggleClass(e.options.triggersActiveClass).attr("aria-expanded", function(e, t) {
                return "true" === t ? "false" : "true"
            }), e.$tools.is(":visible") && (e.$tools.slideToggle(400).attr("aria-hidden", function(e, t) {
                return "true" === t ? "false" : "true"
            }), e.$toolsTrigger.removeClass(e.options.triggersActiveClass).attr("aria-expanded", "false")), e.$menu.slideToggle(400).attr("aria-hidden", function(e, t) {
                return "true" === t ? "false" : "true"
            })
        },
        _destroy: function() {
            var e = this;
            e._removeEvents(), e._removeAria(), e.$tools.add(e.$menu).add(e.$navLevels).removeAttr("style"), e.$triggers.removeClass(e.options.triggersActiveClass), e.$navBtn.removeClass(e.options.navBtnActiveClass)
        }
    }, e.DrawerMenu = r, t(document).ready(function() {
        new r
    })
}(window, jQuery);